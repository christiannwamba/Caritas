@{
    ViewBag.Title = "Manage Courses";
}


<div class="container" ng-app="AdminApp" ng-controller="CourseCtrl">
    <a href="~/Admin"><span style="font-size:40px" class="glyphicon glyphicon-arrow-left"></span></a>
    <h3>Manage Courses</h3>
    <hr />
    <h4 style="color: #af030d">Faculty</h4>
    <hr />
    <section id="Faculty">
        <div class="col-md-8">
            <input type="hidden" ng-model="facultyId" />
            <div class="form-group">
                <label class="control-label">Name</label>
                <input type="text" class="form-control" placeholder="Faculty Name" ng-model="facultyName" />
            </div>
            <div class="form-group pull-right">
                <button ng-hide="facultyId" class="btn btn-success" ng-click="createFaculty()">Add</button>
                <button ng-show="facultyId" class="btn btn-primary" ng-click="updateFaculty()">Update</button>
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-danger">
                <div class="panel-heading">Faculties</div>
                <table class="table">
                    <tbody>
                        <tr ng-repeat="f in faculties">
                            <td>
                                {{f.FacultyName}}
                            </td>
                            <td>
                                <a class="btn" ng-click="getFacultyForUpdate(f.FacultyID)">
                                    <span class="glyphicon glyphicon-edit"></span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>            
        </div>
    </section>
    <div class="col-md-12">
        <h4 style="color: #af030d">Department</h4>
        <div class="pull-right form-group">
            <input type="text" class="form-control input-sm" placeholder="Search" style="border-radius:0" ng-model="search2" />
        </div>
        <hr />
    </div>
    <section id="Dept">
        <div class="col-md-8">
            <form class="frm">
                <input type="hidden" ng-model="deptId" />
        
                <div class="form-group">
                    <label class="control-label">Name</label>
                    <input name="deptName" type="text" class="form-control" placeholder="Department Name" ng-model="deptName" />
                </div>
                <div class="form-group">
                    <label class="control-label">Faculty</label>
                    <select class="form-control" ng-model="faculty" ng-options="c.FacultyName for c in faculties track by c.FacultyID">
                        <option value="">Select Faculty</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="control-label">Description</label>
                    <textarea name="description" class="form-control" ui-tinymce="tinymceOptions" ng-model="description" required></textarea>
                    <span ng-show="frm.description.$dirty && frm.description.$error.required">Description is required</span>
                </div>
                <div class="form-group pull-right">
                    <button ng-hide="deptId" class="btn btn-success" ng-click="createDept()">Add</button>
                    <button ng-show="deptId" class="btn btn-primary" ng-click="updateDept()">Update</button>
                </div>
            </form>
        </div>
        <div class="col-md-4">
            <div class="panel panel-danger">
                <div class="panel-heading">Departments</div>
                <table class="table">
                    <thead style="font-weight:bold">
                        <tr>
                            <td>
                                Name
                            </td>
                            <td>
                                Faculty
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="d in departments | filter:search2">
                            <td>
                                {{d.DepartmentName}}
                            </td>
                            <td>
                                {{d.FacultyName}}
                            </td>
                            <td>
                                <a ng-click="getDeptForUpdate(d.DepartmentID)" class="btn">
                                    <span class="glyphicon glyphicon-edit"></span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>

